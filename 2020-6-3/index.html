<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./js/vue.js"></script>
    <style>
        body {
            margin: 0;
        }

        .div {
            width: 100%;
            height: 50vh;
            color: white;
        }
    </style>
</head>

<body>
    <div id="app">
        <div class="div" v-scroll style="background-color: blue;">1</div>
        <div class="div" v-scroll style="background-color: red;">2</div>
        <div class="div" v-scroll style="background-color: black;">3</div>
        <div class="div" v-scroll style="background-color: orangered">4</div>
        <div class="div" v-scroll style="background-color: green;">5</div>
    </div>
</body>
<script>
    Vue.directive("scroll", {
        inserted: function (el, binding) {
            var a
            function fun() {
               
                var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
                var offsetTop = el.offsetTop;
                if (offsetTop < scrollTop) {
                    a = setInterval(function () {
                        document.body.scrollTop--
                        document.documentElement.scrollTop--
                    }, 16.7)
                } else if (offsetTop > scrollTop) {
                    a = setInterval(function () {
                        document.body.scrollTop++
                        document.documentElement.scrollTop++
                    }, 16.7)
                }
            }
            function fun2() {
                var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
                var offsetTop = el.offsetTop;
                console.log("1")
                if (offsetTop == scrollTop) {
                    clearInterval(a)
                    a = null
                }
            }
            window.addEventListener("scroll", fun2)
            el.onclick = function () {
                console.log(el)
                fun()
            }
        }
    })
    var app = new Vue({
        el: "#app",
        data: {

        },
        methods: {

        },
    })
</script>

</html>